<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸€æ¬¡æ¨¡å‹ - è½¬ç‚‰ç»ˆç‚¹é¢„æµ‹ç³»ç»Ÿ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .primary-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f9fa;
        }
        
        .primary-header {
            background: linear-gradient(135deg, #2a5298 0%, #1e3a5f 100%);
            color: white;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .primary-header h1 {
            margin: 0 0 10px 0;
            font-size: 28px;
        }
        
        .primary-header p {
            margin: 0;
            opacity: 0.9;
            font-size: 14px;
        }
        
        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .nav-tab {
            padding: 12px 24px;
            background: white;
            border: 2px solid #2a5298;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            color: #2a5298;
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .nav-tab.active {
            background: #2a5298;
            color: white;
        }
        
        .nav-tab:hover {
            background: #2a5298;
            color: white;
        }
        
        .input-section {
            background: white;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .section-title {
            font-size: 18px;
            font-weight: bold;
            color: #2a5298;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #2a5298;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .form-field {
            display: flex;
            flex-direction: column;
        }
        
        .form-field label {
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .form-field input,
        .form-field select {
            padding: 10px;
            border: 2px solid #d0d0d0;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .form-field input:focus,
        .form-field select:focus {
            outline: none;
            border-color: #2a5298;
        }
        
        .predict-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #00aa44 0%, #008835 100%);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 4px 12px rgba(0,170,68,0.3);
            transition: all 0.3s;
        }
        
        .predict-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,170,68,0.4);
        }
        
        .results-section {
            display: none;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .result-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 4px solid #2a5298;
        }
        
        .result-card h3 {
            margin: 0 0 15px 0;
            color: #2a5298;
            font-size: 16px;
        }
        
        .result-value {
            font-size: 32px;
            font-weight: bold;
            color: #00aa44;
            margin-bottom: 10px;
        }
        
        .result-range {
            color: #666;
            font-size: 13px;
        }
        
        .result-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin-top: 8px;
        }
        
        .status-good {
            background: rgba(0,170,68,0.15);
            color: #00aa44;
        }
        
        .status-warning {
            background: rgba(255,136,0,0.15);
            color: #ff8800;
        }
        
        .status-danger {
            background: rgba(204,0,0,0.15);
            color: #cc0000;
        }
        
        .suggestions-section {
            background: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .suggestion-item {
            padding: 15px;
            background: #f5f5f7;
            border-left: 4px solid #2a5298;
            margin-bottom: 15px;
            border-radius: 4px;
        }
        
        .suggestion-item h4 {
            margin: 0 0 10px 0;
            color: #2a5298;
            font-size: 15px;
        }
        
        .suggestion-item p {
            margin: 0;
            color: #666;
            font-size: 13px;
            line-height: 1.6;
        }
        
        .start-process-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #2a5298 0%, #1e3a5f 100%);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(42,82,152,0.3);
            transition: all 0.3s;
        }
        
        .start-process-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(42,82,152,0.4);
        }
    </style>
</head>
<body>
    <div class="primary-container">
        <!-- é¡µé¢å¤´éƒ¨ -->
        <div class="primary-header">
            <h1>ğŸ¯ ä¸€æ¬¡æ¨¡å‹ - è½¬ç‚‰ç»ˆç‚¹é¢„æµ‹ç³»ç»Ÿ</h1>
            <p>åœ¨è½¬ç‚‰å¹ç‚¼å¼€å§‹å‰ï¼Œè¾“å…¥åˆå§‹æ¡ä»¶ï¼Œé¢„æµ‹ç»ˆç‚¹å‚æ•°å¹¶è·å–é…æ–™å»ºè®®</p>
        </div>
        
        <!-- å¯¼èˆªæ ‡ç­¾ -->
        <div class="nav-tabs">
            <a href="primary_model.html" class="nav-tab active">ä¸€æ¬¡æ¨¡å‹ï¼ˆå¹ç‚¼å‰é¢„æµ‹ï¼‰</a>
            <a href="secondary_model.html" class="nav-tab">äºŒæ¬¡æ¨¡å‹ï¼ˆè¿‡ç¨‹åŠ¨æ€æ§åˆ¶ï¼‰</a>
        </div>
        
        <!-- è¾“å…¥å‚æ•°éƒ¨åˆ† -->
        <div class="input-section">
            <div class="section-title">ğŸ“‹ åŸºæœ¬ä¿¡æ¯ä¸åˆå§‹æ¡ä»¶</div>
            
            <div class="form-grid">
                <div class="form-field">
                    <label>å·¥å‚è½¦é—´</label>
                    <select id="factory">
                        <option>Aå‚è½¬ç‚‰è½¦é—´</option>
                        <option>Bå‚è½¬ç‚‰è½¦é—´</option>
                    </select>
                </div>
                
                <div class="form-field">
                    <label>è½¬ç‚‰è§„æ ¼</label>
                    <select id="furnaceType">
                        <option value="150">150tè½¬ç‚‰</option>
                        <option value="250">250tè½¬ç‚‰</option>
                    </select>
                </div>
                
                <div class="form-field">
                    <label>ç›®æ ‡é’¢ç§</label>
                    <select id="steelGrade">
                        <option value="Q235">Q235</option>
                        <option value="SPHC">SPHC</option>
                    </select>
                </div>
                
                <div class="form-field">
                    <label>è®¡åˆ’ç‚‰æ¬¡å·</label>
                    <input type="text" id="heatNumber" value="20251102-001" />
                </div>
            </div>
        </div>
        
        <div class="input-section">
            <div class="section-title">ğŸ”¥ é“æ°´æ¡ä»¶</div>
            
            <div class="form-grid">
                <div class="form-field">
                    <label>é“æ°´é‡é‡ (å¨)</label>
                    <input type="number" id="ironWeight" value="150" step="1" />
                </div>
                
                <div class="form-field">
                    <label>é“æ°´æ¸©åº¦ (æ‘„æ°åº¦)</label>
                    <input type="number" id="ironTemp" value="1350" step="1" />
                </div>
                
                <div class="form-field">
                    <label>é“æ°´ç¢³å«é‡ (ç™¾åˆ†æ¯”)</label>
                    <input type="number" id="inputC" value="4.20" step="0.01" />
                </div>
                
                <div class="form-field">
                    <label>é“æ°´ç¡…å«é‡ (ç™¾åˆ†æ¯”)</label>
                    <input type="number" id="inputSi" value="0.38" step="0.01" />
                </div>
                
                <div class="form-field">
                    <label>é“æ°´é”°å«é‡ (ç™¾åˆ†æ¯”)</label>
                    <input type="number" id="inputMn" value="0.28" step="0.01" />
                </div>
                
                <div class="form-field">
                    <label>é“æ°´ç£·å«é‡ (ç™¾åˆ†æ¯”)</label>
                    <input type="number" id="inputP" value="0.143" step="0.001" />
                </div>
                
                <div class="form-field">
                    <label>é“æ°´ç¡«å«é‡ (ç™¾åˆ†æ¯”)</label>
                    <input type="number" id="inputS" value="0.008" step="0.001" />
                </div>
            </div>
        </div>
        
        <div class="input-section">
            <div class="section-title">âš’ï¸ åºŸé’¢ç®¡ç†</div>
            
            <div class="form-grid">
                <div class="form-field">
                    <label>åºŸé’¢å•è€— (kg/t.S)</label>
                    <input type="number" id="scrapConsumption" value="145.96" step="0.01" />
                </div>
            </div>
        </div>
        
        <div class="input-section">
            <div class="section-title">ğŸ§± é€ æ¸£å‰‚å•è€—</div>
            
            <div class="form-grid">
                <div class="form-field">
                    <label>çŸ³ç°å•è€— (kg/t.S)</label>
                    <input type="number" id="limeConsumption" value="145.96" step="0.01" />
                </div>
                
                <div class="form-field">
                    <label>è½»çƒ§ç™½äº‘çŸ³å•è€— (kg/t.S)</label>
                    <input type="number" id="lightDolomiteConsumption" value="34.52" step="0.01" />
                </div>
                
                <div class="form-field">
                    <label>é“çŸ¿çŸ³å•è€— (kg/t.S)</label>
                    <input type="number" id="oreConsumption" value="31.78" step="0.01" />
                </div>
                
                <div class="form-field">
                    <label>è¤çŸ³å•è€— (kg/t.S)</label>
                    <input type="number" id="fluoriteConsumption" value="0.47" step="0.01" />
                </div>
            </div>
        </div>
        
        <div class="input-section">
            <div class="section-title">ğŸ’¨ å¹æ°§å·¥è‰ºå‚æ•°</div>
            
            <div class="form-grid">
                <div class="form-field">
                    <label>æ°§æ°”æ€»é‡ (NmÂ³)</label>
                    <input type="number" id="oxygenTotal" value="7800" step="50" />
                </div>
                
                <div class="form-field">
                    <label>å¹æ°§æ—¶é—´ (min)</label>
                    <input type="number" id="blowTime" value="16.0" step="0.1" />
                </div>
                
                <div class="form-field">
                    <label>å¹³å‡å¹æ°§å¼ºåº¦ (NmÂ³/(tÂ·min))</label>
                    <input type="number" id="oxygenIntensity" value="3.25" step="0.01" />
                </div>
                
                <div class="form-field">
                    <label>åˆå§‹æ°§æ°”æµé‡ (NmÂ³/min)</label>
                    <input type="number" id="oxygenFlowInit" value="520" step="10" />
                </div>
                
                <div class="form-field">
                    <label>æ°§æ°”çº¯åº¦ (%)</label>
                    <input type="number" id="oxygenPurity" value="99.6" step="0.1" />
                </div>
                
                <div class="form-field">
                    <label>åˆå§‹æªä½é«˜åº¦ (mm)</label>
                    <input type="number" id="lanceHeightInit" value="1750" step="10" />
                </div>
                
                <div class="form-field">
                    <label>æªå¤´ç±»å‹</label>
                    <select id="lanceType">
                        <option value="5hole">äº”å­”æª</option>
                        <option value="4hole">å››å­”æª</option>
                        <option value="6hole">å…­å­”æª</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="input-section">
            <div class="section-title">ğŸ­ è®¾å¤‡ä¸å·¥å†µ</div>
            
            <div class="form-grid">
                <div class="form-field">
                    <label>è½¬ç‚‰ç‚‰é¾„ (ç‚‰æ¬¡)</label>
                    <input type="number" id="furnaceAge" value="850" step="1" />
                </div>
                
                <div class="form-field">
                    <label>è½¬ç‚‰å®¹ç§¯ (ç«‹æ–¹ç±³)</label>
                    <input type="number" id="furnaceVolume" value="180" step="1" />
                </div>
                
                <div class="form-field">
                    <label>ç‚‰è¡¬ç±»å‹</label>
                    <select id="liningType">
                        <option value="mag">é•è´¨ç‚‰è¡¬</option>
                        <option value="mag-c">é•ç¢³è´¨ç‚‰è¡¬</option>
                        <option value="mag-cr">é•é“¬è´¨ç‚‰è¡¬</option>
                    </select>
                </div>
                
                <div class="form-field">
                    <label>ç‚‰è¡¬å‰©ä½™åšåº¦ (æ¯«ç±³)</label>
                    <input type="number" id="liningThickness" value="320" step="5" />
                </div>
                
                <div class="form-field">
                    <label>ç‚‰å£å¸çƒ­ç³»æ•°</label>
                    <input type="number" id="heatLossCoef" value="1.0" step="0.01" />
                </div>
                
                <div class="form-field">
                    <label>åº•å¹ç³»ç»ŸçŠ¶æ€</label>
                    <select id="bottomBlowStatus">
                        <option value="normal">æ­£å¸¸</option>
                        <option value="partial">éƒ¨åˆ†å µå¡</option>
                        <option value="blocked">å µå¡</option>
                    </select>
                </div>
                
                <div class="form-field">
                    <label>åº•å¹å…ƒä»¶æ•°é‡ (ä¸ª)</label>
                    <input type="number" id="bottomPlugs" value="8" step="1" />
                </div>
            </div>
        </div>
        
        <div class="input-section">
            <div class="section-title">ğŸŒ ç¯å¢ƒä¸é’¢ç§ä¿¡æ¯</div>
            
            <div class="form-grid">
                <div class="form-field">
                    <label>ç¯å¢ƒæ¸©åº¦ (æ‘„æ°åº¦)</label>
                    <input type="number" id="ambientTemp" value="25" step="1" />
                </div>
                
                <div class="form-field">
                    <label>å­£èŠ‚å› ç´ </label>
                    <select id="season">
                        <option value="spring">æ˜¥å­£</option>
                        <option value="summer">å¤å­£</option>
                        <option value="autumn">ç§‹å­£</option>
                        <option value="winter">å†¬å­£</option>
                    </select>
                </div>
            </div>
        </div>
        
        <button class="predict-btn" onclick="runPrediction()">ğŸš€ å¼€å§‹é¢„æµ‹è®¡ç®—</button>
        
        <!-- é¢„æµ‹ç»“æœéƒ¨åˆ† -->
        <div class="results-section" id="resultsSection">
            <div class="input-section">
                <div class="section-title">ğŸ“Š ç»ˆç‚¹çŠ¶æ€é¢„æµ‹</div>
                
                <div class="results-grid">
                    <div class="result-card">
                        <h3>ğŸŒ¡ï¸ é¢„æµ‹ç»ˆç‚¹æ¸©åº¦</h3>
                        <div class="result-value" id="predTemp">1648æ‘„æ°åº¦</div>
                        <div class="result-range">ç›®æ ‡èŒƒå›´: 1640-1660æ‘„æ°åº¦</div>
                        <div class="result-range">ç½®ä¿¡åŒºé—´: 1644-1652æ‘„æ°åº¦ (90%)</div>
                        <span class="result-status status-good" id="tempStatus">âœ“ ç¬¦åˆè¦æ±‚</span>
                    </div>
                    
                    <div class="result-card">
                        <h3>âš—ï¸ é¢„æµ‹ç»ˆç‚¹ç¢³å«é‡</h3>
                        <div class="result-value" id="predC">0.043%</div>
                        <div class="result-range">ç›®æ ‡: â‰¤0.050%</div>
                        <div class="result-range">ç½®ä¿¡åŒºé—´: 0.038-0.048% (90%)</div>
                        <span class="result-status status-good" id="cStatus">âœ“ ç¬¦åˆè¦æ±‚</span>
                    </div>
                    
                    <div class="result-card">
                        <h3>ğŸ”¬ é¢„æµ‹ç»ˆç‚¹ç£·å«é‡</h3>
                        <div class="result-value" id="predP">0.015%</div>
                        <div class="result-range">ç›®æ ‡: â‰¤0.020%</div>
                        <div class="result-range">ç½®ä¿¡åŒºé—´: 0.013-0.017% (90%)</div>
                        <span class="result-status status-good" id="pStatus">âœ“ ç¬¦åˆè¦æ±‚</span>
                    </div>
                    
                    <div class="result-card">
                        <h3>âš¡ é¢„æµ‹ç»ˆç‚¹ç¡«å«é‡</h3>
                        <div class="result-value" id="predS">0.011%</div>
                        <div class="result-range">ç›®æ ‡: â‰¤0.015%</div>
                        <div class="result-range">ç½®ä¿¡åŒºé—´: 0.010-0.013% (90%)</div>
                        <span class="result-status status-good" id="sStatus">âœ“ ç¬¦åˆè¦æ±‚</span>
                    </div>
                    
                    <div class="result-card">
                        <h3>ğŸ”· é¢„æµ‹ç»ˆç‚¹é”°å«é‡</h3>
                        <div class="result-value" id="predMn">0.032%</div>
                        <div class="result-range">ç›®æ ‡: 0.030-0.050%</div>
                        <div class="result-range">è„±é™¤ç‡: 88.6%</div>
                        <span class="result-status status-good">æ­£å¸¸èŒƒå›´</span>
                    </div>
                </div>
            </div>
            
            <div class="input-section">
                <div class="section-title">ğŸ“ˆ ååº”æ•ˆæœæŒ‡æ ‡</div>
                
                <div class="results-grid">
                    <div class="result-card">
                        <h3>ğŸ¯ è„±ç¢³ç‡</h3>
                        <div class="result-value" id="decarbon">98.98%</div>
                        <div class="result-range">å…¥ç‚‰ç¢³: 4.20%</div>
                        <div class="result-range">ç»ˆç‚¹ç¢³: 0.043%</div>
                        <span class="result-status status-good">ä¼˜ç§€</span>
                    </div>
                    
                    <div class="result-card">
                        <h3>ğŸ¯ è„±ç£·ç‡</h3>
                        <div class="result-value" id="dephosphor">89.51%</div>
                        <div class="result-range">å…¥ç‚‰ç£·: 0.143%</div>
                        <div class="result-range">ç»ˆç‚¹ç£·: 0.015%</div>
                        <span class="result-status status-good">ä¼˜ç§€</span>
                    </div>
                    
                    <div class="result-card">
                        <h3>ğŸ¯ è„±ç¡…ç‡</h3>
                        <div class="result-value" id="desilicon">98.68%</div>
                        <div class="result-range">å…¥ç‚‰ç¡…: 0.380%</div>
                        <div class="result-range">ç»ˆç‚¹ç¡…: 0.005%</div>
                        <span class="result-status status-good">ä¼˜ç§€</span>
                    </div>
                    
                    <div class="result-card">
                        <h3>ğŸ¯ è„±ç¡«ç‡</h3>
                        <div class="result-value" id="desulfur">-37.50%</div>
                        <div class="result-range">å…¥ç‚‰ç¡«: 0.008%</div>
                        <div class="result-range">ç»ˆç‚¹ç¡«: 0.011%</div>
                        <span class="result-status status-warning">âš  ç¡«å¢åŠ </span>
                    </div>
                    
                    <div class="result-card">
                        <h3>ğŸ¯ è„±é”°ç‡</h3>
                        <div class="result-value" id="demangan">88.57%</div>
                        <div class="result-range">å…¥ç‚‰é”°: 0.280%</div>
                        <div class="result-range">ç»ˆç‚¹é”°: 0.032%</div>
                        <span class="result-status status-good">è‰¯å¥½</span>
                    </div>
                </div>
            </div>
            
            <div class="input-section">
                <div class="section-title">ğŸ”¥ ç‚‰æ¸£æ€§è´¨é¢„æµ‹</div>
                
                <div class="results-grid">
                    <div class="result-card">
                        <h3>ğŸ”¶ åœå¹æ¸£ä¸­T.Fe</h3>
                        <div class="result-value" id="predSlagTFe">17.8%</div>
                        <div class="result-range">ç›®æ ‡èŒƒå›´: 15-20%</div>
                        <div class="result-range">è¡¨å¾ç‚‰æ¸£æ°§åŒ–æ€§</div>
                        <span class="result-status status-good">âœ“ é€‚å®œ</span>
                    </div>
                    
                    <div class="result-card">
                        <h3>ğŸ“Š å¹³å‡ç¢³æ°§ç§¯</h3>
                        <div class="result-value" id="predCarbonOxygen">2014</div>
                        <div class="result-range">ç›®æ ‡èŒƒå›´: 1800-2200</div>
                        <div class="result-range">[C]Ã—[O] = 0.01%Ã—ppm</div>
                        <span class="result-status status-good">âœ“ å¹³è¡¡è‰¯å¥½</span>
                    </div>
                </div>
            </div>
            
            <button class="start-process-btn" onclick="startProcess()">
                â–¶ï¸ ç¡®è®¤æ–¹æ¡ˆï¼Œå¯åŠ¨å¹ç‚¼è¿‡ç¨‹ï¼ˆè¿›å…¥äºŒæ¬¡æ¨¡å‹ï¼‰
            </button>
        </div>
    </div>
    
    <script>
        function runPrediction() {
            // è·å–è¾“å…¥å‚æ•°
            const furnaceType = document.getElementById('furnaceType').value;
            const ironTemp = parseFloat(document.getElementById('ironTemp').value);
            const inputSi = parseFloat(document.getElementById('inputSi').value);
            const inputMn = parseFloat(document.getElementById('inputMn').value);
            const inputP = parseFloat(document.getElementById('inputP').value);
            const inputS = parseFloat(document.getElementById('inputS').value);
            const inputC = parseFloat(document.getElementById('inputC').value);
            
            // ç›®æ ‡å€¼ï¼ˆæ ¹æ®é’¢ç§è®¾å®šï¼‰
            const targetTemp = 1650; // ç›®æ ‡æ¸©åº¦
            const targetC = 0.050;   // ç›®æ ‡ç¢³å«é‡
            
            // ç”Ÿæˆé¢„æµ‹ç»“æœï¼ˆæ·»åŠ ä¸€äº›åŸºäºè¾“å…¥çš„å˜åŒ–ï¼‰
            const tempOffset = (ironTemp - 1350) * 0.5;
            const predTemp = targetTemp - 2 + tempOffset + (Math.random() - 0.5) * 4;
            
            const cOffset = inputSi * 0.01;
            const predC = 0.043 + cOffset + (Math.random() - 0.5) * 0.005;
            
            const pOffset = inputP * 0.05;
            const predP = inputP * 0.10 + pOffset + (Math.random() - 0.5) * 0.002;
            
            const predS = inputS * 1.3 + (Math.random() - 0.5) * 0.002;
            const predMn = inputMn * 0.12 + (Math.random() - 0.5) * 0.005;
            const predSi = inputSi * 0.015;
            
            const predTime = furnaceType === '150' ? 16.5 : 18.5;
            
            // æ›´æ–°ç»ˆç‚¹çŠ¶æ€é¢„æµ‹
            document.getElementById('predTemp').textContent = predTemp.toFixed(0) + 'æ‘„æ°åº¦';
            document.getElementById('predC').textContent = predC.toFixed(3) + '%';
            document.getElementById('predP').textContent = predP.toFixed(3) + '%';
            document.getElementById('predS').textContent = predS.toFixed(3) + '%';
            document.getElementById('predMn').textContent = predMn.toFixed(3) + '%';
            
            // æ›´æ–°ååº”æ•ˆæœæŒ‡æ ‡
            const decarbonRate = ((inputC - predC) / inputC * 100);
            const dephosphorRate = ((inputP - predP) / inputP * 100);
            const desiliconRate = ((inputSi - predSi) / inputSi * 100);
            const desulfurRate = ((inputS - predS) / inputS * 100);
            const demanganRate = ((inputMn - predMn) / inputMn * 100);
            
            document.getElementById('decarbon').textContent = decarbonRate.toFixed(2) + '%';
            document.getElementById('dephosphor').textContent = dephosphorRate.toFixed(2) + '%';
            document.getElementById('desilicon').textContent = desiliconRate.toFixed(2) + '%';
            document.getElementById('desulfur').textContent = desulfurRate.toFixed(2) + '%';
            document.getElementById('demangan').textContent = demanganRate.toFixed(2) + '%';
            
            // åˆ¤æ–­çŠ¶æ€
            updateStatus('tempStatus', predTemp, targetTemp - 10, targetTemp + 10);
            updateStatus('cStatus', predC, 0, targetC * 1.1);
            updateStatus('pStatus', predP, 0, 0.020);
            updateStatus('sStatus', predS, 0, 0.015);
            
            // æ˜¾ç¤ºç»“æœåŒºåŸŸ
            document.getElementById('resultsSection').style.display = 'block';
            
            // å¹³æ»‘æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
            
            // æ˜¾ç¤ºæˆåŠŸé€šçŸ¥
            showNotification('âœ“ é¢„æµ‹å®Œæˆ', 'ä¸€æ¬¡æ¨¡å‹é¢„æµ‹è®¡ç®—å·²å®Œæˆï¼Œè¯·æŸ¥çœ‹ç»“æœå’Œå»ºè®®', 'success');
        }
        
        function updateStatus(elementId, value, min, max) {
            const element = document.getElementById(elementId);
            if (value >= min && value <= max) {
                element.className = 'result-status status-good';
                element.textContent = 'âœ“ ç¬¦åˆè¦æ±‚';
            } else if (value < min || value > max * 1.1) {
                element.className = 'result-status status-danger';
                element.textContent = 'âœ— åç¦»ç›®æ ‡';
            } else {
                element.className = 'result-status status-warning';
                element.textContent = 'âš  éœ€è¦å…³æ³¨';
            }
        }
        
        function startProcess() {
            if (confirm('ç¡®è®¤å¯åŠ¨å¹ç‚¼è¿‡ç¨‹ï¼Ÿ\n\nç¡®è®¤åå°†è¿›å…¥äºŒæ¬¡æ¨¡å‹å®æ—¶æ§åˆ¶ç•Œé¢ï¼Œå¼€å§‹è¿‡ç¨‹ç›‘æ§å’ŒåŠ¨æ€é¢„æµ‹ã€‚')) {
                // ä¿å­˜å‚æ•°åˆ°sessionStorage
                const params = {
                    furnaceType: document.getElementById('furnaceType').value,
                    ironTemp: document.getElementById('ironTemp').value,
                    inputSi: document.getElementById('inputSi').value,
                    inputMn: document.getElementById('inputMn').value,
                    inputP: document.getElementById('inputP').value,
                    inputS: document.getElementById('inputS').value,
                    heatNumber: document.getElementById('heatNumber').value
                };
                sessionStorage.setItem('primaryModelParams', JSON.stringify(params));
                
                // è·³è½¬åˆ°äºŒæ¬¡æ¨¡å‹é¡µé¢
                window.location.href = 'secondary_model.html';
            }
        }
        
        function showNotification(title, message, type = 'info') {
            // åˆ›å»ºéé˜»å¡å¼é€šçŸ¥
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#00aa44' : type === 'warning' ? '#ff8800' : '#2a5298'};
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                z-index: 10000;
                min-width: 300px;
                max-width: 400px;
                animation: slideIn 0.3s ease-out;
            `;
            notification.innerHTML = `
                <div style="font-weight: bold; margin-bottom: 5px;">${title}</div>
                <div style="font-size: 14px; opacity: 0.95;">${message}</div>
            `;
            
            // æ·»åŠ åŠ¨ç”»æ ·å¼
            if (!document.getElementById('notificationStyles')) {
                const style = document.createElement('style');
                style.id = 'notificationStyles';
                style.innerHTML = `
                    @keyframes slideIn {
                        from {
                            transform: translateX(400px);
                            opacity: 0;
                        }
                        to {
                            transform: translateX(0);
                            opacity: 1;
                        }
                    }
                    @keyframes slideOut {
                        from {
                            transform: translateX(0);
                            opacity: 1;
                        }
                        to {
                            transform: translateX(400px);
                            opacity: 0;
                        }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(notification);
            
            // 3ç§’åè‡ªåŠ¨æ¶ˆå¤±
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-in';
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }
    </script>
</body>
</html>

